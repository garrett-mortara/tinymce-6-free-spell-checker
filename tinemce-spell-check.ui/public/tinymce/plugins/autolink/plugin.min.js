/**
 * TinyMCE version 6.1.1 (2022-07-27)
 */
!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>t.options.get(e),n=t("autolink_pattern"),o=t("link_default_target"),r=t("link_default_protocol"),i=("string",e=>"string"===(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(i=o.constructor)||void 0===i?void 0:i.name)===r.name)?"string":t;var n,o,r,i})(e));const s=e=>!(e=>null==e)(e),a=e=>/^[(\[{ \u00a0]$/.test(e),l=e=>3===e.nodeType,d=e=>1===e.nodeType,c=(e,t)=>{if(t<0&&(t=0),l(e)){const n=e.data.length;t>n&&(t=n)}return t},f=(e,t,n)=>{!d(t)||t.hasChildNodes()?e.setStart(t,c(t,n)):e.setStartBefore(t)},g=(e,t,n)=>{!d(t)||t.hasChildNodes()?e.setEnd(t,c(t,n)):e.setEndAfter(t)},u=(e,t)=>{let o,i,s,d,c,u;const h=n(e);if(null!==e.dom.getParent(e.selection.getNode(),"a[href]"))return;const m=e.selection.getRng().cloneRange();if(m.startOffset<5){if(d=m.endContainer.previousSibling,!d){if(!m.endContainer.firstChild||!m.endContainer.firstChild.nextSibling)return;d=m.endContainer.firstChild.nextSibling}if(c=d.length,f(m,d,c),g(m,d,c),m.endOffset<5)return;o=m.endOffset,i=d}else{if(i=m.endContainer,!l(i)&&i.firstChild){for(;!l(i)&&i.firstChild;)i=i.firstChild;l(i)&&(f(m,i,0),g(m,i,i.nodeValue.length))}o=1===m.endOffset?2:m.endOffset-1-t}const p=o;do{f(m,i,o>=2?o-2:0),g(m,i,o>=1?o-1:0),o-=1,u=m.toString()}while(!a(u)&&o-2>=0);var C;a(m.toString())?(f(m,i,o),g(m,i,p),o+=1):0===m.startOffset?(f(m,i,0),g(m,i,p)):(f(m,i,o),g(m,i,p)),s=m.toString(),C=s.charAt(s.length-1),/[?!,.;:]/.test(C)&&g(m,i,p-1),s=m.toString().trim();const k=s.match(h),y=r(e);if(k){let e=k[0];return v="www.",(w=e).length>=v.length&&w.substr(0,0+v.length)===v?e=y+"://"+e:((e,t)=>-1!==e.indexOf("@"))(e)&&!(e=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(e))(e)&&(e="mailto:"+e),{rng:m,url:e}}var w,v;return null},h=(e,t)=>{const n=o(e),{rng:r,url:s}=t;e.undoManager.transact((()=>{const t=e.selection.getBookmark();e.selection.setRng(r);const o="createlink",a={command:o,ui:!1,value:s};e.dispatch("BeforeExecCommand",a).isDefaultPrevented()||(e.getDoc().execCommand(o,!1,s),e.dispatch("ExecCommand",a),i(n)&&e.dom.setAttrib(e.selection.getNode(),"target",n)),e.selection.moveToBookmark(t),e.nodeChanged()}))},m=e=>{const t=u(e,0);s(t)&&h(e,t)},p=m;e.add("autolink",(e=>{(e=>{const t=e.options.register;t("autolink_pattern",{processor:"regexp",default:new RegExp("^"+/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g.source+"$","i")}),t("link_default_target",{processor:"string"}),t("link_default_protocol",{processor:"string",default:"https"})})(e),(e=>{e.on("keydown",(t=>{13!==t.keyCode||t.isDefaultPrevented()||((e,t)=>{const n=u(e,-1);s(n)&&(t.preventDefault(),e.execCommand("mceInsertNewLine",!1,t),h(e,n))})(e,t)})),e.on("keyup",(t=>{32===t.keyCode?m(e):(48===t.keyCode&&t.shiftKey||221===t.keyCode)&&p(e)}))})(e)}))}();